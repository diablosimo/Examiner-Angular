<div class="app-body">
  <main class="main d-flex align-items-center">
    <div class="container">
      <div class="row">
        <div class="col-md-6 mx-auto">
          <div class="card mx-4">
            <div class="card-body p-4">
                <h1>Réinitialiser</h1>
                <p class="text-muted">Réinitialiser le mot de passe  </p>


                <form [formGroup]="emailForm" [hidden]="hiddenEmailForm"   (ngSubmit)="onSubmitEmail()">

                <div     class="input-group mb-3">
                  <div class="input-group-prepend">
                    <span class="input-group-text">@</span>
                  </div>
                  <input  [ngClass]="{
  'is-invalid': (emailFormControl.email.touched && ( emailFormControl.email.invalid)),
  '': !(emailFormControl.email.touched && (  emailFormControl.email.invalid))}"
                          name="email" formControlName="email" [(ngModel)]="email" type="text" class="form-control" placeholder="Email" autocomplete="email" required>

                </div>
                <button [disabled]="!emailForm.valid" class="btn btn-success px-4">valider</button>
                </form>



                            <form [formGroup]="codeForm"  [hidden]="hiddenCodeForm"  (ngSubmit)="onSubmitCode()">

                              <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                  <span class="input-group-text"><i class="icon-user"></i></span>
                                </div>
                                <input [ngClass]="{
                'is-invalid': (codeFormControl.code.touched && ( codeFormControl.code.invalid)),
                '': !(codeFormControl.code.touched && (  codeFormControl.code.invalid))}"  name="code" formControlName="code" [(ngModel)]="code" type="text" class="form-control" placeholder="code" autocomplete="code" required>
                              </div>
                              <button [disabled]="!codeForm.valid" class="btn btn-success px-4">valider</button>

                            </form>

                              <form [formGroup]="passwordForm" [hidden]="hiddenpPasswordForm"  (ngSubmit)="onSubmitPassword()">



                              <div  class="input-group mb-3">
                                <div class="input-group-prepend">
                                  <span class="input-group-text"><i class="icon-lock"></i></span>
                                </div>
                                <input  [ngClass]="{
                'is-invalid': (passwordFormControl.password.touched && ( passwordFormControl.password.invalid)),
                '': !(passwordFormControl.password.touched && (  passwordFormControl.password.invalid))}" name="password" formControlName="password" [(ngModel)]="password" type="password" class="form-control" placeholder="Password" autocomplete="new-password" required>
                              </div>
                              <div class="input-group mb-4">
                                <div class="input-group-prepend">
                                  <span class="input-group-text"><i class="icon-lock"></i></span>
                                </div>
                                <input [ngClass]="{
                'is-invalid': (passwordFormControl.cpassword.touched && ( passwordFormControl.cpassword.invalid)),
                '': !(passwordFormControl.cpassword.touched && (  passwordFormControl.cpassword.invalid))}" [(ngModel)]="cpassword"  pattern="{{ password }}" name="cpassword" formControlName="cpassword"  type="password" class="form-control" placeholder="Répeter password" autocomplete="new-password" required>
                              </div>

                                <button [disabled]="!passwordForm.valid" class="btn btn-success px-4">valider</button>

              </form>

                              <button [routerLink]="'/login'" type="button" class="btn btn-success btn-lg btn-block">login</button>


                            <div *ngFor="let alert of alerts">
                              <alert [type]="alert.type" [dismissOnTimeout]="alert.timeout" >{{ alert.msg }}</alert>
                            </div>
                          </div>
                          <app-http-spinner ></app-http-spinner>

                        </div>

                      </div>

                    </div>

                  </div>

                </main>
              </div>
